import{S as t,i as e,s as n,c as a,a as s,e as o,b as r,d as l,f as i,g as c,t as u,h as $,l as f,u as h,j as m,k as d,m as p,n as g,o as v,p as w,q as x,r as b,v as y,w as C,x as k,y as E,z as N,A as I,B as H,C as L,D,E as S,F as V,G as T,H as j,I as F,J as A,K as O,L as R,M,N as U,O as _,P as B,Q as P,R as Y,T as q}from"./client.5ba2fbf5.js";function Z(t){let e,n,g,v,w;const x=t[4].default,b=a(x,t,t[3],null);let y=[{class:n=t[2].class},t[2]],C={};for(let t=0;t<y.length;t+=1)C=s(C,y[t]);return{c(){e=o("div"),b&&b.c(),this.h()},l(t){e=r(t,"DIV",{class:!0});var n=l(e);b&&b.l(n),n.forEach(i),this.h()},h(){c(e,C),u(e,"svelte-txlu0g",!0)},m(n,a){$(n,e,a),b&&b.m(e,null),g=!0,v||(w=f(e,"click",t[5]),v=!0)},p(t,[a]){b&&b.p&&8&a&&h(b,x,t,t[3],a,null,null),c(e,C=m(y,[(!g||4&a&&n!==(n=t[2].class))&&{class:n},4&a&&t[2]])),u(e,"svelte-txlu0g",!0)},i(t){g||(d(b,t),g=!0)},o(t){p(b,t),g=!1},d(t){t&&i(e),b&&b.d(t),v=!1,w()}}}function z(t,e,n){let{$$slots:a={},$$scope:o}=e;const{goto:r}=g("router");let{to:l}=e;return t.$$set=t=>{n(2,e=s(s({},e),v(t))),"to"in t&&n(0,l=t.to),"$$scope"in t&&n(3,o=t.$$scope)},e=v(e),[l,r,e,o,a,()=>r(l)]}class J extends t{constructor(t){super(),e(this,t,z,Z,n,{to:0})}}function K(t){let e;const n=t[4].default,s=a(n,t,t[3],null);return{c(){s&&s.c()},l(t){s&&s.l(t)},m(t,n){s&&s.m(t,n),e=!0},p(t,e){s&&s.p&&8&e&&h(s,n,t,t[3],e,null,null)},i(t){e||(d(s,t),e=!0)},o(t){p(s,t),e=!1},d(t){s&&s.d(t)}}}function X(t){let e,n,a=t[0].substring(1)===t[1],s=a&&K(t);return{c(){s&&s.c(),e=w()},l(t){s&&s.l(t),e=w()},m(t,a){s&&s.m(t,a),$(t,e,a),n=!0},p(t,[n]){3&n&&(a=t[0].substring(1)===t[1]),a?s?(s.p(t,n),3&n&&d(s,1)):(s=K(t),s.c(),d(s,1),s.m(e.parentNode,e)):s&&(x(),p(s,1,1,(()=>{s=null})),b())},i(t){n||(d(s),n=!0)},o(t){p(s),n=!1},d(t){s&&s.d(t),t&&i(e)}}}function G(t,e,n){let a,{$$slots:s={},$$scope:o}=e;const{path:r}=g("router");y(t,r,(t=>n(1,a=t)));let{path:l}=e;return t.$$set=t=>{"path"in t&&n(0,l=t.path),"$$scope"in t&&n(3,o=t.$$scope)},[l,a,r,o,s]}class Q extends t{constructor(t){super(),e(this,t,G,X,n,{path:0})}}function W(t){let e,n;return{c(){e=o("div"),n=C("One moment please..."),this.h()},l(t){e=r(t,"DIV",{class:!0});var a=l(e);n=E(a,"One moment please..."),a.forEach(i),this.h()},h(){I(e,"class","text-roboto-mono text-variant-medium text-weight-medium svelte-1hptsjq")},m(t,a){$(t,e,a),L(e,n)},d(t){t&&i(e)}}}function tt(t){let e,n,a,s,c,u,f,h;return{c(){e=o("div"),n=C("Your record might be cached. "),a=o("br"),s=C("\r\n      Please wait up to 1 minute or you can "),c=o("br"),u=k(),f=o("a"),h=C("recreate your identity here."),this.h()},l(t){e=r(t,"DIV",{class:!0});var o=l(e);n=E(o,"Your record might be cached. "),a=r(o,"BR",{}),s=E(o,"\r\n      Please wait up to 1 minute or you can "),c=r(o,"BR",{}),u=N(o),f=r(o,"A",{href:!0,class:!0});var $=l(f);h=E($,"recreate your identity here."),$.forEach(i),o.forEach(i),this.h()},h(){I(f,"href","/#/create"),I(f,"class","svelte-1hptsjq"),I(e,"class","text-roboto-mono text-variant-medium text-weight-medium svelte-1hptsjq")},m(t,o){$(t,e,o),L(e,n),L(e,a),L(e,s),L(e,c),L(e,u),L(e,f),L(f,h)},d(t){t&&i(e)}}}function et(t){let e,n,a,s;function c(t,e){return!0===t[0]?tt:W}let u=c(t),f=u(t);return{c(){e=o("h1"),n=C("Log in"),a=k(),s=o("div"),f.c(),this.h()},l(t){e=r(t,"H1",{class:!0});var o=l(e);n=E(o,"Log in"),o.forEach(i),a=N(t),s=r(t,"DIV",{class:!0,style:!0});var c=l(s);f.l(c),c.forEach(i),this.h()},h(){I(e,"class","text-roboto-mono text-variant-huge text-weight-medium svelte-1hptsjq"),I(s,"class","container svelte-1hptsjq"),H(s,"display","flex"),H(s,"align-items","center"),H(s,"justify-content","space-between")},m(t,o){$(t,e,o),L(e,n),$(t,a,o),$(t,s,o),f.m(s,null)},p(t,[e]){u!==(u=c(t))&&(f.d(1),f=u(t),f&&(f.c(),f.m(s,null)))},i:D,o:D,d(t){t&&i(e),t&&i(a),t&&i(s),f.d()}}}function nt(t){return new Promise((e=>setTimeout(e,t)))}function at(t,e,n){let a;const s=g("identities"),o=g("loading"),r=g("loginFlow"),l=r.loginFlowData;y(t,l,(t=>n(3,a=t)));const{deviceId:i}=g("media"),{goto:c}=g("router");let u=!1,$=!0;return S((()=>$=!1)),V((async()=>{if($=!0,!a.state)return void c("/list");let t;try{t=await s.credentialsFor(a.id,a.state)}catch(t){console.warn(t)}if(!t)return void c("/create");o.start(),setTimeout((()=>{n(0,u=!0)}),15e3);const e=()=>{const e=new URL(a.callbackUrl),n={signed:btoa(t.signed),domain:btoa(t.name),deviceId:btoa(i),publicKey:btoa(t.publicKey)};e.hash=btoa(JSON.stringify(n)),r.clear(),window.location.href=e.toString()};for(;$;){if(await s.verifyFingerprintFor(a.id)){o.stop(),e();break}await nt(2e3)}})),[u,l]}class st extends t{constructor(t){super(),e(this,t,at,et,n,{})}}function ot(t){let e,n;return{c(){e=T("svg"),n=T("path"),this.h()},l(t){e=r(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0},1);var a=l(e);n=r(a,"path",{d:!0,fill:!0},1),l(n).forEach(i),a.forEach(i),this.h()},h(){I(n,"d","M10.4062 15.1875H10.9688C11.1094 15.1875 11.25 15.082 11.25 14.9062V5.34375C11.25 5.20312 11.1094 5.0625 10.9688 5.0625H10.4062C10.2305 5.0625 10.125 5.20312 10.125 5.34375V14.9062C10.125 15.082 10.2305 15.1875 10.4062 15.1875ZM4.78125 15.1875H5.34375C5.48438 15.1875 5.625 15.082 5.625 14.9062V5.34375C5.625 5.20312 5.48438 5.0625 5.34375 5.0625H4.78125C4.60547 5.0625 4.5 5.20312 4.5 5.34375V14.9062C4.5 15.082 4.60547 15.1875 4.78125 15.1875ZM15.4688 2.25H11.8125L10.6172 0.703125C10.3359 0.316406 9.73828 0 9.28125 0H6.46875C5.97656 0 5.37891 0.316406 5.09766 0.703125L3.9375 2.25H0.28125C0.105469 2.25 0 2.39062 0 2.53125V3.09375C0 3.26953 0.105469 3.375 0.28125 3.375H1.125V16.3125C1.125 17.2617 1.86328 18 2.8125 18H12.9375C13.8516 18 14.625 17.2617 14.625 16.3125V3.375H15.4688C15.6094 3.375 15.75 3.26953 15.75 3.09375V2.53125C15.75 2.39062 15.6094 2.25 15.4688 2.25ZM6.01172 1.37109C6.08203 1.23047 6.29297 1.16016 6.46875 1.125H9.28125C9.42188 1.16016 9.63281 1.23047 9.70312 1.37109L10.4062 2.25H5.34375L6.01172 1.37109ZM13.5 16.3125C13.5 16.6289 13.2188 16.875 12.9375 16.875H2.8125C2.49609 16.875 2.25 16.6289 2.25 16.3125V3.375H13.5V16.3125ZM7.59375 15.1875H8.15625C8.29688 15.1875 8.4375 15.082 8.4375 14.9062V5.34375C8.4375 5.20312 8.29688 5.0625 8.15625 5.0625H7.59375C7.41797 5.0625 7.3125 5.20312 7.3125 5.34375V14.9062C7.3125 15.082 7.41797 15.1875 7.59375 15.1875Z"),I(n,"fill","#676767"),I(e,"width","16"),I(e,"height","18"),I(e,"viewBox","0 0 16 18"),I(e,"fill","none"),I(e,"xmlns","http://www.w3.org/2000/svg")},m(t,a){$(t,e,a),L(e,n)},p:D,i:D,o:D,d(t){t&&i(e)}}}class rt extends t{constructor(t){super(),e(this,t,null,ot,n,{})}}
/*! https://mths.be/punycode v1.4.1 by @mathias */var lt=2147483647,it=/^xn--/,ct=/[^\x20-\x7E]/,ut=/[\x2E\u3002\uFF0E\uFF61]/g,$t={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ft=Math.floor,ht=String.fromCharCode;function mt(t){throw new RangeError($t[t])}function dt(t,e){for(var n=t.length,a=[];n--;)a[n]=e(t[n]);return a}function pt(t,e){var n=t.split("@"),a="";return n.length>1&&(a=n[0]+"@",t=n[1]),a+dt((t=t.replace(ut,".")).split("."),e).join(".")}function gt(t){for(var e,n,a=[],s=0,o=t.length;s<o;)(e=t.charCodeAt(s++))>=55296&&e<=56319&&s<o?56320==(64512&(n=t.charCodeAt(s++)))?a.push(((1023&e)<<10)+(1023&n)+65536):(a.push(e),s--):a.push(e);return a}function vt(t){return dt(t,(function(t){var e="";return t>65535&&(e+=ht((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=ht(t)})).join("")}function wt(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function xt(t,e,n){var a=0;for(t=n?ft(t/700):t>>1,t+=ft(t/e);t>455;a+=36)t=ft(t/35);return ft(a+36*t/(t+38))}function bt(t){var e,n,a,s,o,r,l,i,c,u,$,f=[],h=t.length,m=0,d=128,p=72;for((n=t.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)t.charCodeAt(a)>=128&&mt("not-basic"),f.push(t.charCodeAt(a));for(s=n>0?n+1:0;s<h;){for(o=m,r=1,l=36;s>=h&&mt("invalid-input"),((i=($=t.charCodeAt(s++))-48<10?$-22:$-65<26?$-65:$-97<26?$-97:36)>=36||i>ft((lt-m)/r))&&mt("overflow"),m+=i*r,!(i<(c=l<=p?1:l>=p+26?26:l-p));l+=36)r>ft(lt/(u=36-c))&&mt("overflow"),r*=u;p=xt(m-o,e=f.length+1,0==o),ft(m/e)>lt-d&&mt("overflow"),d+=ft(m/e),m%=e,f.splice(m++,0,d)}return vt(f)}function yt(t){var e,n,a,s,o,r,l,i,c,u,$,f,h,m,d,p=[];for(f=(t=gt(t)).length,e=128,n=0,o=72,r=0;r<f;++r)($=t[r])<128&&p.push(ht($));for(a=s=p.length,s&&p.push("-");a<f;){for(l=lt,r=0;r<f;++r)($=t[r])>=e&&$<l&&(l=$);for(l-e>ft((lt-n)/(h=a+1))&&mt("overflow"),n+=(l-e)*h,e=l,r=0;r<f;++r)if(($=t[r])<e&&++n>lt&&mt("overflow"),$==e){for(i=n,c=36;!(i<(u=c<=o?1:c>=o+26?26:c-o));c+=36)d=i-u,m=36-u,p.push(ht(wt(u+d%m,0))),i=ft(d/m);p.push(ht(wt(i,0))),o=xt(n,h,a==s),n=0,++a}++n,++e}return p.join("")}var Ct={version:"1.4.1",ucs2:{decode:gt,encode:vt},toASCII:function(t){return pt(t,(function(t){return ct.test(t)?"xn--"+yt(t):t}))},toUnicode:function(t){return pt(t,(function(t){return it.test(t)?bt(t.slice(4).toLowerCase()):t}))},encode:yt,decode:bt};function kt(t){let e,n=Et(t[0])+"";return{c(){e=C(n)},l(t){e=E(t,n)},m(t,n){$(t,e,n)},p(t,[a]){1&a&&n!==(n=Et(t[0])+"")&&j(e,n)},i:D,o:D,d(t){t&&i(e)}}}const Et=(t="")=>{const e=[];let n=!1;return t.split(".").forEach((t=>{try{const a=Ct.toUnicode(t);t!==a?(n=!0,e.push(a)):e.push(t)}catch(n){e.push(t)}})),n?`${t}/ (${e.join(".")})`:`${t}/`};function Nt(t,e,n){let{domainName:a}=e;return t.$$set=t=>{"domainName"in t&&n(0,a=t.domainName)},[a]}class It extends t{constructor(t){super(),e(this,t,Nt,kt,n,{domainName:0})}}function Ht(t){let e,n,g,v,w;const x=t[8].default,b=a(x,t,t[7],null);let y=[{class:n=t[4].class+" "+t[0]+" "+t[1].classNames+" text-roboto-variable text-variant-small text-weight-medium"},t[4]],C={};for(let t=0;t<y.length;t+=1)C=s(C,y[t]);return{c(){e=o("button"),b&&b.c(),this.h()},l(t){e=r(t,"BUTTON",{class:!0});var n=l(e);b&&b.l(n),n.forEach(i),this.h()},h(){c(e,C),u(e,"svelte-v3459l",!0)},m(n,a){$(n,e,a),b&&b.m(e,null),g=!0,v||(w=f(e,"click",t[3]),v=!0)},p(t,[a]){b&&b.p&&128&a&&h(b,x,t,t[7],a,null,null),c(e,C=m(y,[(!g||19&a&&n!==(n=t[4].class+" "+t[0]+" "+t[1].classNames+" text-roboto-variable text-variant-small text-weight-medium"))&&{class:n},16&a&&t[4]])),u(e,"svelte-v3459l",!0)},i(t){g||(d(b,t),g=!0)},o(t){p(b,t),g=!1},d(t){t&&i(e),b&&b.d(t),v=!1,w()}}}function Lt(t,e,n){let a,{$$slots:o={},$$scope:r}=e;const{media:l}=g("media");y(t,l,(t=>n(1,a=t)));let i,{variant:c}=e,{onClick:u}=e;"primary"===c?i="button-variant-primary":"transparent"===c?i="button-variant-transparent":"secondary"===c&&(i="button-variant-secondary");return t.$$set=t=>{n(4,e=s(s({},e),v(t))),"variant"in t&&n(5,c=t.variant),"onClick"in t&&n(6,u=t.onClick),"$$scope"in t&&n(7,r=t.$$scope)},e=v(e),[i,a,l,()=>u(),e,c,u,r,o]}class Dt extends t{constructor(t){super(),e(this,t,Lt,Ht,n,{variant:5,onClick:6})}}function St(t){let e,n,a;return{c(){e=T("svg"),n=T("path"),a=T("path"),this.h()},l(t){e=r(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0},1);var s=l(e);n=r(s,"path",{d:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0},1),l(n).forEach(i),a=r(s,"path",{d:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0},1),l(a).forEach(i),s.forEach(i),this.h()},h(){I(n,"d","M10 8L6 12L10 16"),I(n,"stroke","white"),I(n,"stroke-linecap","round"),I(n,"stroke-linejoin","round"),I(a,"d","M6.86407 11.9719L18.2489 11.9719"),I(a,"stroke","white"),I(a,"stroke-linecap","round"),I(a,"stroke-linejoin","round"),I(e,"width","24"),I(e,"height","24"),I(e,"viewBox","0 0 24 24"),I(e,"fill","none"),I(e,"xmlns","http://www.w3.org/2000/svg")},m(t,s){$(t,e,s),L(e,n),L(e,a)},p:D,i:D,o:D,d(t){t&&i(e)}}}class Vt extends t{constructor(t){super(),e(this,t,null,St,n,{})}}function Tt(t,e,n){const a=t.slice();return a[18]=e[n],a}function jt(t){let e,n;return e=new Vt({}),{c(){F(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){O(e,t,a),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function Ft(t){let e,n,a,s,c;function u(){return t[10](t[18])}return n=new It({props:{domainName:t[18].name}}),{c(){e=o("div"),F(n.$$.fragment),this.h()},l(t){e=r(t,"DIV",{class:!0});var a=l(e);A(n.$$.fragment,a),a.forEach(i),this.h()},h(){I(e,"class","existing-link color-white hover-color-brand text-roboto-variable text-variant-small text-weight-medium")},m(t,o){$(t,e,o),O(n,e,null),a=!0,s||(c=f(e,"click",u),s=!0)},p(e,a){t=e;const s={};1&a&&(s.domainName=t[18].name),n.$set(s)},i(t){a||(d(n.$$.fragment,t),a=!0)},o(t){p(n.$$.fragment,t),a=!1},d(t){t&&i(e),R(n),s=!1,c()}}}function At(t){let e,n,a,s,c;function u(){return t[9](t[18])}return n=new It({props:{domainName:t[18].name}}),{c(){e=o("div"),F(n.$$.fragment),this.h()},l(t){e=r(t,"DIV",{class:!0});var a=l(e);A(n.$$.fragment,a),a.forEach(i),this.h()},h(){I(e,"class","color-white text-roboto-variable text-variant-small text-weight-medium")},m(t,o){$(t,e,o),O(n,e,null),a=!0,s||(c=f(e,"click",u),s=!0)},p(e,a){t=e;const s={};1&a&&(s.domainName=t[18].name),n.$set(s)},i(t){a||(d(n.$$.fragment,t),a=!0)},o(t){p(n.$$.fragment,t),a=!1},d(t){t&&i(e),R(n),s=!1,c()}}}function Ot(t){let e,n;return e=new rt({}),{c(){F(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){O(e,t,a),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function Rt(t){let e,n,a,s,c,u;const f=[At,Ft],h=[];function m(t,e){return t[1]?.state?1:0}function g(){return t[11](t[18])}return n=m(t),a=h[n]=f[n](t),c=new Dt({props:{class:"delete-button",variant:"transparent",onClick:g,$$slots:{default:[Ot]},$$scope:{ctx:t}}}),{c(){e=o("li"),a.c(),s=k(),F(c.$$.fragment),this.h()},l(t){e=r(t,"LI",{class:!0});var n=l(e);a.l(n),s=N(n),A(c.$$.fragment,n),n.forEach(i),this.h()},h(){I(e,"class","svelte-1865il7")},m(t,a){$(t,e,a),h[n].m(e,null),L(e,s),O(c,e,null),u=!0},p(o,r){let l=n;n=m(t=o),n===l?h[n].p(t,r):(x(),p(h[l],1,1,(()=>{h[l]=null})),b(),a=h[n],a?a.p(t,r):(a=h[n]=f[n](t),a.c()),d(a,1),a.m(e,s));const i={};1&r&&(i.onClick=g),2097152&r&&(i.$$scope={dirty:r,ctx:t}),c.$set(i)},i(t){u||(d(a),d(c.$$.fragment,t),u=!0)},o(t){p(a),p(c.$$.fragment,t),u=!1},d(t){t&&i(e),h[n].d(),R(c)}}}function Mt(t){let e,n="ï¼‹    Setup another identity";return{c(){e=C(n)},l(t){e=E(t,n)},m(t,n){$(t,e,n)},p:D,d(t){t&&i(e)}}}function Ut(t){let e,n,a,s,c,u,f,h,m,g;e=new Dt({props:{onClick:t[8],style:"position: absolute; top: -8px; left: 8px;",variant:"transparent",$$slots:{default:[jt]},$$scope:{ctx:t}}});let v=t[0],w=[];for(let e=0;e<v.length;e+=1)w[e]=Rt(Tt(t,v,e));const y=t=>p(w[t],1,1,(()=>{w[t]=null}));return m=new Dt({props:{class:"color-white hover-color-brand text-roboto-variable text-variant-small text-weight-medium",onClick:t[12],$$slots:{default:[Mt]},$$scope:{ctx:t}}}),{c(){F(e.$$.fragment),n=k(),a=o("h1"),s=C("Your identities"),c=k(),u=o("ul");for(let t=0;t<w.length;t+=1)w[t].c();f=k(),h=o("li"),F(m.$$.fragment),this.h()},l(t){A(e.$$.fragment,t),n=N(t),a=r(t,"H1",{class:!0});var o=l(a);s=E(o,"Your identities"),o.forEach(i),c=N(t),u=r(t,"UL",{class:!0});var $=l(u);for(let t=0;t<w.length;t+=1)w[t].l($);f=N($),h=r($,"LI",{class:!0});var d=l(h);A(m.$$.fragment,d),d.forEach(i),$.forEach(i),this.h()},h(){I(a,"class","text-roboto-mono text-variant-huge text-weight-medium svelte-1865il7"),I(h,"class","svelte-1865il7"),I(u,"class","svelte-1865il7")},m(t,o){O(e,t,o),$(t,n,o),$(t,a,o),L(a,s),$(t,c,o),$(t,u,o);for(let t=0;t<w.length;t+=1)w[t].m(u,null);L(u,f),L(u,h),O(m,h,null),g=!0},p(t,[n]){const a={};if(2097152&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a),115&n){let e;for(v=t[0],e=0;e<v.length;e+=1){const a=Tt(t,v,e);w[e]?(w[e].p(a,n),d(w[e],1)):(w[e]=Rt(a),w[e].c(),d(w[e],1),w[e].m(u,f))}for(x(),e=v.length;e<w.length;e+=1)y(e);b()}const s={};2097152&n&&(s.$$scope={dirty:n,ctx:t}),m.$set(s)},i(t){if(!g){d(e.$$.fragment,t);for(let t=0;t<v.length;t+=1)d(w[t]);d(m.$$.fragment,t),g=!0}},o(t){p(e.$$.fragment,t),w=w.filter(Boolean);for(let t=0;t<w.length;t+=1)p(w[t]);p(m.$$.fragment,t),g=!1},d(t){R(e,t),t&&i(n),t&&i(a),t&&i(c),t&&i(u),M(w,t),R(m)}}}function _t(t,e,n){let a,s;const o=g("loginFlow"),r=o.loginFlowData;y(t,r,(t=>n(1,s=t)));const{deviceId:l}=g("media"),{goto:i}=g("router"),{delete:c,list:u,credentialsFor:$}=g("identities");y(t,u,(t=>n(0,a=t)));const f=t=>{window.confirm("Would you like to delete this identity? You will still be able to use this name again later.")&&c(t)},h=async t=>{const e=`${t.name}`.split(".");e.pop();const n=[{host:[l,"_auth",...e].join("."),ttl:60,type:"TXT",value:`v=0;fingerprint=${t.fingerprint}`}];navigator.clipboard.writeText(JSON.stringify(n))},m=async t=>{o.setName(t),i("/#/login")},d=()=>{o.clearName(),i("/#/create")};return[a,s,r,u,f,h,m,d,()=>window.history.back(),t=>h(t),t=>m(t.name),t=>f(t.name),()=>d()]}class Bt extends t{constructor(t){super(),e(this,t,_t,Ut,n,{})}}function Pt(t){let e,n,a,l=[{class:"textinput text-variant-small text-roboto-variable color-white"},t[1]],h={};for(let t=0;t<l.length;t+=1)h=s(h,l[t]);return{c(){e=o("input"),this.h()},l(t){e=r(t,"INPUT",{class:!0}),this.h()},h(){c(e,h),u(e,"svelte-1kz53kh",!0)},m(s,o){$(s,e,o),U(e,t[0]),n||(a=f(e,"input",t[2]),n=!0)},p(t,[n]){c(e,h=m(l,[{class:"textinput text-variant-small text-roboto-variable color-white"},2&n&&t[1]])),1&n&&e.value!==t[0]&&U(e,t[0]),u(e,"svelte-1kz53kh",!0)},i:D,o:D,d(t){t&&i(e),n=!1,a()}}}function Yt(t,e,n){let{value:a=""}=e;return t.$$set=t=>{n(1,e=s(s({},e),v(t))),"value"in t&&n(0,a=t.value)},e=v(e),[a,e,function(){a=this.value,n(0,a)}]}class qt extends t{constructor(t){super(),e(this,t,Yt,Pt,n,{value:0})}}function Zt(t){let e,n;return e=new J({props:{class:"list-link text-roboto-variable text-variant-tiny text-weight-medium",to:"/list",$$slots:{default:[zt]},$$scope:{ctx:t}}}),{c(){F(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){O(e,t,a),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function zt(t){let e;return{c(){e=C("Select a different identity")},l(t){e=E(t,"Select a different identity")},m(t,n){$(t,e,n)},d(t){t&&i(e)}}}function Jt(t){let e,n,a,s,c,u,f,h,m,g,v,w,x,b,y,H,D,S,V,T,j,M;return n=new It({props:{domainName:t[4]}}),c=new Dt({props:{variant:"primary",onClick:t[10],disabled:t[2],$$slots:{default:[Xt]},$$scope:{ctx:t}}}),T=new Dt({props:{onClick:t[11],variant:"secondary",disabled:t[2],$$slots:{default:[Gt]},$$scope:{ctx:t}}}),{c(){e=o("div"),F(n.$$.fragment),a=k(),s=o("div"),F(c.$$.fragment),f=k(),h=o("div"),m=o("p"),g=C("Handshake name not in Namebase?"),v=k(),w=o("p"),x=C("See our "),b=o("a"),y=C("instructions for setting the record outside of Namebase."),H=k(),D=o("p"),S=C("Once you have set your record, click the button below to continue."),V=k(),F(T.$$.fragment),this.h()},l(t){e=r(t,"DIV",{class:!0});var o=l(e);A(n.$$.fragment,o),o.forEach(i),a=N(t),s=r(t,"DIV",{class:!0});var u=l(s);A(c.$$.fragment,u),u.forEach(i),f=N(t),h=r(t,"DIV",{class:!0});var $=l(h);m=r($,"P",{class:!0});var d=l(m);g=E(d,"Handshake name not in Namebase?"),d.forEach(i),v=N($),w=r($,"P",{class:!0});var p=l(w);x=E(p,"See our "),b=r(p,"A",{rel:!0,href:!0,class:!0,target:!0});var C=l(b);y=E(C,"instructions for setting the record outside of Namebase."),C.forEach(i),p.forEach(i),H=N($),D=r($,"P",{class:!0});var k=l(D);S=E(k,"Once you have set your record, click the button below to continue."),k.forEach(i),V=N($),A(T.$$.fragment,$),$.forEach(i),this.h()},h(){I(e,"class","input text-variant-small text-roboto-variable text-weight-regular svelte-1fcbh1l"),I(s,"class",u="continue to-namebase "+t[5].classNames+" svelte-1fcbh1l"),I(m,"class","text-variant-regular text-roboto-variable text-weight-medium svelte-1fcbh1l"),I(b,"rel","noopener noreferrer"),I(b,"href","https://docs.namebase.io/handshake-login/using-handshake-login"),I(b,"class","text-weight-medium svelte-1fcbh1l"),I(b,"target","_blank"),I(w,"class","text-variant-tiny text-roboto-variable text-weight-regular  svelte-1fcbh1l"),I(D,"class","text-variant-tiny text-roboto-variable text-weight-regular svelte-1fcbh1l"),I(h,"class",j="set-manually "+t[5].classNames+" svelte-1fcbh1l")},m(t,o){$(t,e,o),O(n,e,null),$(t,a,o),$(t,s,o),O(c,s,null),$(t,f,o),$(t,h,o),L(h,m),L(m,g),L(h,v),L(h,w),L(w,x),L(w,b),L(b,y),L(h,H),L(h,D),L(D,S),L(h,V),O(T,h,null),M=!0},p(t,e){const a={};16&e&&(a.domainName=t[4]),n.$set(a);const o={};4&e&&(o.disabled=t[2]),1048576&e&&(o.$$scope={dirty:e,ctx:t}),c.$set(o),(!M||32&e&&u!==(u="continue to-namebase "+t[5].classNames+" svelte-1fcbh1l"))&&I(s,"class",u);const r={};4&e&&(r.disabled=t[2]),1048576&e&&(r.$$scope={dirty:e,ctx:t}),T.$set(r),(!M||32&e&&j!==(j="set-manually "+t[5].classNames+" svelte-1fcbh1l"))&&I(h,"class",j)},i(t){M||(d(n.$$.fragment,t),d(c.$$.fragment,t),d(T.$$.fragment,t),M=!0)},o(t){p(n.$$.fragment,t),p(c.$$.fragment,t),p(T.$$.fragment,t),M=!1},d(t){t&&i(e),R(n),t&&i(a),t&&i(s),R(c),t&&i(f),t&&i(h),R(T)}}}function Kt(t){let e,n,a,s,c,u,f,h;function m(e){t[12](e)}let g={id:"new-id",name:"new-id",placeholder:"Enter a Handshake name that you own*"};return void 0!==t[4]&&(g.value=t[4]),n=new qt({props:g}),_.push((()=>B(n,"value",m))),u=new Dt({props:{variant:"primary",onClick:t[13],disabled:!t[4],$$slots:{default:[Qt]},$$scope:{ctx:t}}}),{c(){e=o("div"),F(n.$$.fragment),s=k(),c=o("div"),F(u.$$.fragment),this.h()},l(t){e=r(t,"DIV",{class:!0});var a=l(e);A(n.$$.fragment,a),a.forEach(i),s=N(t),c=r(t,"DIV",{class:!0});var o=l(c);A(u.$$.fragment,o),o.forEach(i),this.h()},h(){I(e,"class","input svelte-1fcbh1l"),I(c,"class",f="continue to-confirm "+t[5].classNames+" svelte-1fcbh1l")},m(t,a){$(t,e,a),O(n,e,null),$(t,s,a),$(t,c,a),O(u,c,null),h=!0},p(t,e){const s={};!a&&16&e&&(a=!0,s.value=t[4],P((()=>a=!1))),n.$set(s);const o={};16&e&&(o.disabled=!t[4]),1048576&e&&(o.$$scope={dirty:e,ctx:t}),u.$set(o),(!h||32&e&&f!==(f="continue to-confirm "+t[5].classNames+" svelte-1fcbh1l"))&&I(c,"class",f)},i(t){h||(d(n.$$.fragment,t),d(u.$$.fragment,t),h=!0)},o(t){p(n.$$.fragment,t),p(u.$$.fragment,t),h=!1},d(t){t&&i(e),R(n),t&&i(s),t&&i(c),R(u)}}}function Xt(t){let e;return{c(){e=C("Continue to Namebase")},l(t){e=E(t,"Continue to Namebase")},m(t,n){$(t,e,n)},d(t){t&&i(e)}}}function Gt(t){let e;return{c(){e=C("I set my record")},l(t){e=E(t,"I set my record")},m(t,n){$(t,e,n)},d(t){t&&i(e)}}}function Qt(t){let e;return{c(){e=C("Continue")},l(t){e=E(t,"Continue")},m(t,n){$(t,e,n)},d(t){t&&i(e)}}}function Wt(t){let e,n,a,s,c,u,f,h,m,g,v,y,D=t[0].length&&!t[3]&&Zt(t);const S=[Kt,Jt],V=[];function T(t,e){return t[1]===te.ENTER_DETAILS?0:t[1]===te.CONFIRM_DETAILS?1:-1}return~(m=T(t))&&(g=V[m]=S[m](t)),{c(){e=o("h1"),n=C("Set up a new identity"),a=k(),s=o("div"),c=o("label"),u=C("Your Handshake name"),f=k(),D&&D.c(),h=k(),g&&g.c(),v=w(),this.h()},l(t){e=r(t,"H1",{class:!0});var o=l(e);n=E(o,"Set up a new identity"),o.forEach(i),a=N(t),s=r(t,"DIV",{style:!0});var $=l(s);c=r($,"LABEL",{for:!0,class:!0});var m=l(c);u=E(m,"Your Handshake name"),m.forEach(i),f=N($),D&&D.l($),$.forEach(i),h=N(t),g&&g.l(t),v=w(),this.h()},h(){I(e,"class","text-roboto-mono text-variant-huge text-weight-medium svelte-1fcbh1l"),I(c,"for","new-id"),I(c,"class","text-roboto-mono text-variant-small text-weight-medium svelte-1fcbh1l"),H(s,"display","flex"),H(s,"align-items","center"),H(s,"justify-content","space-between")},m(t,o){$(t,e,o),L(e,n),$(t,a,o),$(t,s,o),L(s,c),L(c,u),L(s,f),D&&D.m(s,null),$(t,h,o),~m&&V[m].m(t,o),$(t,v,o),y=!0},p(t,[e]){t[0].length&&!t[3]?D?9&e&&d(D,1):(D=Zt(t),D.c(),d(D,1),D.m(s,null)):D&&(x(),p(D,1,1,(()=>{D=null})),b());let n=m;m=T(t),m===n?~m&&V[m].p(t,e):(g&&(x(),p(V[n],1,1,(()=>{V[n]=null})),b()),~m?(g=V[m],g?g.p(t,e):(g=V[m]=S[m](t),g.c()),d(g,1),g.m(v.parentNode,v)):g=null)},i(t){y||(d(D),d(g),y=!0)},o(t){p(D),p(g),y=!1},d(t){t&&i(e),t&&i(a),t&&i(s),D&&D.d(),t&&i(h),~m&&V[m].d(t),t&&i(v)}}}var te;!function(t){t.ENTER_DETAILS="enterDetails",t.CONFIRM_DETAILS="confirmDetails"}(te||(te={}));const ee=t=>t.toLowerCase().substring(0,63).replace(/[^a-z0-9-_\.]+/g,"").replace(/^[-_]+/g,"").replace(/[-_]+$/g,"");function ne(t,e,n){let a,s,o;const r=g("loginFlow"),l=g("loading"),i=g("identities"),{deviceId:c,media:u}=g("media");y(t,u,(t=>n(5,o=t)));const $=r.loginFlowData;y(t,$,(t=>n(14,a=t)));let{list:f}=i;y(t,f,(t=>n(0,s=t)));let h=te.ENTER_DETAILS,m=!1,d=!0,p=a.id;V((()=>{a.id&&(n(4,p=a.id),v())}));const v=async()=>{r.setName(ee(p)),n(1,h=te.CONFIRM_DETAILS)},w=(t,e,n)=>`${window.location.protocol}//${window.location.host}/#/login?id=${btoa(t)}&state=${btoa(e)}&callbackUrl=${btoa(n)}`.toString();return t.$$.update=()=>{1&t.$$.dirty&&0!==s.length&&n(3,d=!1)},[s,h,m,d,p,o,u,$,f,v,async()=>{n(2,m=!0),l.start();const t=await i.generate(a.id),e=`${t.name}`.split("."),s=e.pop(),o=[{host:[c,"_auth",...e].join("."),ttl:5,type:"TXT",value:`v=0;fingerprint=${t.fingerprint}`}],r=new URL(`${window.baseDomain||"https://www.namebase.io"}/next/domain-manager/${s}/records`),u=w(a.id,a.state,a.callbackUrl),$=encodeURIComponent(encodeURIComponent(u.toString()));r.searchParams.append("records",btoa(JSON.stringify(o))),r.searchParams.append("redirect",$),l.stop(),window.location.href=r.toString()},async()=>{await i.generate(ee(p));const t=w(a.id,a.state,a.callbackUrl);window.location.href=t.toString()},function(t){p=t,n(4,p)},()=>v()]}class ae extends t{constructor(t){super(),e(this,t,ne,Wt,n,{})}}function se(t){let e,n;return e=new st({}),{c(){F(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){O(e,t,a),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function oe(t){let e,n;return e=new ae({}),{c(){F(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){O(e,t,a),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function re(t){let e,n;return e=new Bt({}),{c(){F(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){O(e,t,a),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function le(t){let e,n;return e=new Bt({}),{c(){F(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){O(e,t,a),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function ie(t){let e,n,a,s,o,r,l,c;return e=new Q({props:{path:"/login",$$slots:{default:[se]},$$scope:{ctx:t}}}),a=new Q({props:{path:"/create",$$slots:{default:[oe]},$$scope:{ctx:t}}}),o=new Q({props:{path:"/list",$$slots:{default:[re]},$$scope:{ctx:t}}}),l=new Q({props:{path:"/",$$slots:{default:[le]},$$scope:{ctx:t}}}),{c(){F(e.$$.fragment),n=k(),F(a.$$.fragment),s=k(),F(o.$$.fragment),r=k(),F(l.$$.fragment)},l(t){A(e.$$.fragment,t),n=N(t),A(a.$$.fragment,t),s=N(t),A(o.$$.fragment,t),r=N(t),A(l.$$.fragment,t)},m(t,i){O(e,t,i),$(t,n,i),O(a,t,i),$(t,s,i),O(o,t,i),$(t,r,i),O(l,t,i),c=!0},p(t,n){const s={};1&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const r={};1&n&&(r.$$scope={dirty:n,ctx:t}),a.$set(r);const i={};1&n&&(i.$$scope={dirty:n,ctx:t}),o.$set(i);const c={};1&n&&(c.$$scope={dirty:n,ctx:t}),l.$set(c)},i(t){c||(d(e.$$.fragment,t),d(a.$$.fragment,t),d(o.$$.fragment,t),d(l.$$.fragment,t),c=!0)},o(t){p(e.$$.fragment,t),p(a.$$.fragment,t),p(o.$$.fragment,t),p(l.$$.fragment,t),c=!1},d(t){R(e,t),t&&i(n),R(a,t),t&&i(s),R(o,t),t&&i(r),R(l,t)}}}function ce(t){let e,n,a;return n=new Y({props:{default:"/list",$$slots:{default:[ie]},$$scope:{ctx:t}}}),{c(){e=k(),F(n.$$.fragment),this.h()},l(t){q('[data-svelte="svelte-1d0c6b9"]',document.head).forEach(i),e=N(t),A(n.$$.fragment,t),this.h()},h(){document.title="Login with Handshake | Namebase"},m(t,s){$(t,e,s),O(n,t,s),a=!0},p(t,[e]){const a={};1&e&&(a.$$scope={dirty:e,ctx:t}),n.$set(a)},i(t){a||(d(n.$$.fragment,t),a=!0)},o(t){p(n.$$.fragment,t),a=!1},d(t){t&&i(e),R(n,t)}}}function ue(t){return V((async()=>{})),[]}export default class extends t{constructor(t){super(),e(this,t,ue,ce,n,{})}}

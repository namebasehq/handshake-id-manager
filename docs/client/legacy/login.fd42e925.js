import{_ as t,a as e,b as n,c as r,i as a,e as i,S as u,s,v as c,L as o,x as f,y as d,M as p,h as l,k as m,F as y,l as b,N as h,z as v,p as g,J as A}from"./client.d312b5fc.js";import{_ as S,i as I}from"./IdentityService.15ab6cfa.js";function R(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=e(t);if(r){var u=e(this).constructor;a=Reflect.construct(i,arguments,u)}else a=i.apply(this,arguments);return n(this,a)}}function x(t){var e,n,r=JSON.stringify(t[0])+"";return{c:function(){e=c("div"),n=o(r)},l:function(t){e=f(t,"DIV",{});var a=d(e);n=p(a,r),a.forEach(l)},m:function(t,r){m(t,e,r),y(e,n)},p:function(t,e){1&b(e,1)[0]&&r!==(r=JSON.stringify(t[0])+"")&&h(n,r)},i:v,o:v,d:function(t){t&&l(e)}}}function E(t,e,n){var r=e.query;return g(S(A.mark((function t(){var e,n,a,i;return A.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return HTMLFormElement.prototype.addInput=function(t,e){var n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",t),n.setAttribute("value",e),this.appendChild(n)},t.next=3,I.signAndGetpublicKey(atob(r.id),atob(r.state));case 3:e=t.sent,n=document.getElementsByTagName("body")[0],a=document.createElement("form"),(i=new URL(atob(r.referrer))).pathname=atob(r.action),a.setAttribute("action",i.toString()),a.setAttribute("method","POST"),a.setAttribute("enctype","multipart/form-data"),a.addInput("publicKey",btoa(e.publicKey)),a.addInput("signed",btoa(e.signed)),a.addInput("domain",btoa(e.name)),n.appendChild(a),a.submit();case 16:case"end":return t.stop()}}),t)})))),t.$$set=function(t){"query"in t&&n(0,r=t.query)},[r]}var q=function(e){t(c,u);var n=R(c);function c(t){var e;return r(this,c),e=n.call(this),a(i(e),t,E,x,s,{query:0}),e}return c}();export default q;
